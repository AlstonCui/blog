# 关于3xx系列的状态码
* 300 多资源选择
* 301 永久重定向
---
* 302 临时重定向
* 303 告诉用户，使用另一个url获取资源
> 主要目的是允许POST请求的响应将客户端定位到某个资源上。比如说，在文件上传完成后让客户端自动重定向到一个上传成功的结果页面。
* 307 通知用户临时从其他URL响应，重定向的页面展示给用户，让用户去点重定向URL链接。
---
* 304 服务端没有变更
> 通知浏览器，可以使用缓存。**这篇博文要描述的重点**

# 关于浏览器缓存

## 类型


## 相关http头


## 使用流程
综合以上描述，浏览器在请求一个资源时，使用缓存的流程大概如下。
1. 首先浏览器会判断，这个资源是否有对应的缓存。没有的话正常请求，然后拿到响应。    
2. 如果有缓存的话，浏览会判断缓存是否过期。如果缓存没有过期，则直接使用。此时就是 **200（from cache）**。
>  通过上次缓存留下的：cache-control max-age 和 Expires。     
   注意：cache-control的优先级高于Expires。
3. 如果浏览器的缓存过期了，它会请求服务器。服务器会再次校验缓存的数据是否真的发生了更改。如果服务器端发现数据没有变。就会返回一个304,告诉浏览器，你请求的数据 “Not Modified”，你可以继续用。
>  这里浏览器发起请求时，会用到上次缓存首部的Last-Modified/E-tag。       
具体做法是：        
取出上次缓存的Last-Modified的值，放在本次请求header的 **If-Modified-Since** 中。     
取出上次缓存的E-tag的值，放在本次请求header中的 **If-None-Match** 中。      
服务器会据此判断资源是否发生过修改，浏览器中的缓存是否依然可用。


![浏览器缓存流程图](/images/cache.png)

## 缓存配置








































# 参考文献
* [1] [http缓存](https://aotu.io/notes/2016/09/22/http-caching/)
* [2] [浏览器缓存和304小结](https://www.cnblogs.com/168dongze/p/3641416.html)
* [3] [浏览器缓存机制](http://www.laruence.com/2010/03/05/1332.html?cp=2#comment-6618)
* [4] [你所知道的3xx状态码](https://aotu.io/notes/2016/01/28/3xx-of-http-status/)

